"use strict";(self.webpackChunku_eats=self.webpackChunku_eats||[]).push([[67],{22125:function(e,n,r){r.r(n),r.d(n,{default:function(){return G}});var t,s,a=r(1413),i=r(45987),o=r(61134),u=r(33168),c=r(69540),l=r(6853),d=r(87132),f=r(80424),h=r(57670),m=r(30168),p=r(17939),x=p.ZP.form(t||(t=(0,m.Z)(["\n  display: grid;\n  gap: ",";\n"])),(function(e){return e.theme.space[8]})),y=p.ZP.div(s||(s=(0,m.Z)(["\n  display: flex;\n  align-items: center;\n  justify-content: flex-end;\n  gap: ",";\n"])),(function(e){return e.theme.space[4]})),v=r(74165),j=r(15861),b=r(26140),g=r(26932),Z=r(48491),k=r(95848),w=function(){var e=(0,c.TL)(),n=(0,u.$)().t,r=(0,g.Zg)().mutateAsync,t=(0,c.CG)((function(e){return e})).basket.order;return function(){var s=(0,j.Z)((0,v.Z)().mark((function s(a){return(0,v.Z)().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,r({order:t,customer:a});case 3:b.ZP.success(n("Thank you! Your order has been placed!")),s.next=10;break;case 6:s.prev=6,s.t0=s.catch(0),b.ZP.error(n("Something went wrong... Please try again later")),"production"!==Z.Fw.PRODUCTION&&console.error(s.t0);case 10:return s.prev=10,e(k.Nw.clearBasket()),s.finish(10);case 13:case"end":return s.stop()}}),s,null,[[0,6,10,13]])})));return function(e){return s.apply(this,arguments)}}()},S=r(72791),C=r(16871),P=r(94587),N=function(){var e=(0,C.s0)(),n=(0,c.cG)().basketItemsQty;(0,S.useEffect)((function(){n||e(P.X.root())}),[n])},A=r(80184),$=["handleSubmit","formState"];var G=function(){var e=w(),n=(0,u.$)().t,r=(0,c.cG)().totalValue,t=(0,c.CG)((function(e){return e})),s=t.customerDetails,m=t.basket.order,p=(0,o.cI)({mode:"onChange",defaultValues:s}),v=p.handleSubmit,j=p.formState,b=(0,i.Z)(p,$);return N(),m.length?(0,A.jsx)(d.W2,{children:(0,A.jsx)(d.M9,{children:(0,A.jsx)(o.RV,(0,a.Z)((0,a.Z)({handleSubmit:v,formState:j},b),{},{children:(0,A.jsxs)(x,{onSubmit:v(e),children:[(0,A.jsx)(f.H1,{children:n("Your order")}),(0,A.jsx)(l.wW,{dishes:m}),(0,A.jsxs)(h.$,{children:[(0,A.jsx)(f.H4,{as:"h2",children:n("Delivery details")}),(0,A.jsx)(l.kb,{names:{firstName:"firstName",lastName:"lastName",email:"email"}})]}),(0,A.jsx)(h.$,{children:(0,A.jsx)(l.$W,{names:{addressLine:"deliveryAddress.addressLine",locality:"deliveryAddress.locality",postalCode:"deliveryAddress.postalCode",countryRegion:"deliveryAddress.countryRegion"}})}),(0,A.jsxs)(y,{children:[(0,A.jsx)("span",{children:n("To pay: {{amount}}",{amount:r.humanFriendly})}),(0,A.jsx)(h.zx,{type:"submit",loading:j.isSubmitting,children:n("Place order")})]})]})}))})}):null}}}]);
//# sourceMappingURL=Basket.27bbf4c7.chunk.js.map